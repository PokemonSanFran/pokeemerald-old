const ATTENDANT_SINGLES = 1
const ATTENDANT_DOUBLES = 7
const ATTENDANT_MULTIS = 8
const ATTENDANT_LINK_MULTIS = 9

const VAR_FACILITY_CHALLENGE_STATUS = VAR_TEMP_0
const CHALLENGE_STATUS_UNKNOWN = 0
const CHALLENGE_STATUS_END = 255

const VAR_NEED_TO_FACE_NORTH = VAR_TEMP_1

// Note: BATTLE_TOWER_LOBBY_REPORTER is a local id for this map used elsewhere. It's defined in event_objects.h

mapscripts BattleFrontier_BattleTowerLobby_MapScripts{

    MAP_SCRIPT_ON_RESUME{
        special(TryHideBattleTowerReporter)
        end
    }

    MAP_SCRIPT_ON_TRANSITION{
        call(BattleFrontier_BattleTowerLobby_EventScript_ShowOrHideReporter)
        call(BattleFrontier_BattleTowerLobby_EventSCript_ShowOrHideApprentice)
    }

    MAP_SCRIPT_ON_FRAME_TABLE[
        VAR_FACILITY_CHALLENGE_STATUS, CHALLENGE_STATUS_UNKNOWN: BattleFrontier_BattleTowerLobby_EventScript_GetChallengeStatus
        VAR_FACILITY_CHALLENGE_STATUS, CHALLENGE_STATUS_SAVING: BattleFrontier_BattleTowerLobby_EventScript_QuitWithoutSaving
        VAR_FACILITY_CHALLENGE_STATUS, CHALLENGE_STATUS_PAUSED: BattleFrontier_BattleTowerLobby_EventScript_ResumeChallenge
        VAR_FACILITY_CHALLENGE_STATUS, CHALLENGE_STATUS_WON: BattleFrontier_BattleTowerLobby_EventScript_WonChallenge
        VAR_FACILITY_CHALLENGE_STATUS, CHALLENGE_STATUS_LOST: BattleFrontier_BattleTowerLobby_EventScript_LostChallenge
    ]

    MAP_SCRIPT_ON_WARP_INTO_MAP_TABLE[
        VAR_NEED_TO_FACE_NORTH, 0:BattleFrontier_BattleTowerLobby_EventScript_PlayerFaceNorth
    ]
}

script BattleFrontier_BattleTowerLobby_EventSCript_ShowOrHideApprentice{
    apprentice_shouldcheckgone

    if (flag(FLAG_DAILY_APPRENTICE_LEAVES)){
        setflag(FLAG_HIDE_APPRENTICE)
    }else{
        clearflag(FLAG_HIDE_APPRENTICE)
        apprentice_setgfx
    }
}

script BattleFrontier_BattleTowerLobby_EventScript_PlayerFaceNorth{
    setvar(VAR_NEED_TO_FACE_NORTH, 1)
    turnobject(OBJ_EVENT_ID_PLAYER, DIR_NORTH)
    end
}

script BattleFrontier_BattleTowerLobby_EventScript_GetChallengeStatus{
    frontier_getstatus
    end
}

script BattleFrontier_BattleTowerLobby_EventScript_QuitWithoutSaving{
    lock
    faceplayer
    msgbox(BattleFrontier_BattleTowerLobby_Text_DidntSaveBeforeQuitting, MSGBOX_DEFAULT)
    closemessage
    tower_set(TOWER_DATA_WIN_STREAK, 0)
    tower_set(TOWER_DATA_WIN_STREAK_ACTIVE, FALSE)
    frontier_set(FRONTIER_DATA_CHALLENGE_STATUS, 0)
    setvar(VAR_FACILITY_CHALLENGE_STATUS, CHALLENGE_STATUS_END)
    release
    end
}

script BattleFrontier_BattleTowerLobby_EventScript_WonChallenge{
    lock
    faceplayer

    frontier_isbrain
    if(var(VAR_RESULT)){
        msgbox(BattleFrontier_BattleTowerLobby_Text_CongratsDefeatedMaiden, MSGBOX_DEFAULT)
    }else{
        message(BattleFrontier_BattleTowerLobby_Text_CongratsBeatenSeven)
        waitmessage
    }

    call(BattleFrontier_BattleTowerLobby_EventScript_GiveRibbons)
    call(BattleFrontier_BattleTowerLobby_EventScript_GiveBattlePoints)
    call(BattleFrontier_BattleTowerLobby_EventScript_AskSaveBattle)
    call(BattleFrontier_BattleTowerLobby_EventScript_Explain50StreakRibbon)
    goto(BattleFrontier_BattleTowerLobby_EventScript_LookForwardToChallenge)
}

script BattleFrontier_BattleTowerLobby_EventScript_GiveRibbons{
    tower_giveribbons
    if(!var(VAR_RESULT)){
        return
    }

    message(BattleFrontier_BattleTowerLobby_Text_HereAreSomeRibbons)
    waitmessage
    playfanfare(MUS_OBTAIN_ITEM)
    waitfanfare
    msgbox(BattleFrontier_BattleTowerLobby_Text_PutRibbonOnMons, MSGBOX_DEFAULT)
    return
}

script BattleFrontier_BattleTowerLobby_EventScript_GiveBattlePoints{
    msgbox(BattleFrontier_BattleTowerLobby_Text_AwardYouTheseBattlePoints, MSGBOX_DEFAULT)
    frontier_givepoints
    msgbox(BattleFrontier_Text_ObtainedXBattlePoints, MSGBOX_GETPOINTS)
    return
}

script BattleFrontier_BattleTowerLobby_EventScript_Explain50StreakRibbon{
    tower_get(TOWER_DATA_WIN_STREAK)
    if (var(VAR_RESULT) == 49){
        msgbox(BattleFrontier_BattleTowerLobby_Text_AboutToFace50thTrainer, MSGBOX_DEFAULT)
    }
    return
}

script BattleFrontier_BattleTowerLobby_EventScript_LookForwardToChallenge{
    msgbox(BattleFrontier_BattleTowerLobby_Text_LookForwardToAnotherChallenge, MSGBOX_DEFAULT)
    closemessage
    setvar(VAR_FACILITY_CHALLENGE_STATUS, CHALLENGE_STATUS_END)
    release
    end
}

script BattleFrontier_BattleTowerLobby_EventScript_LostChallenge {
    if (var(VAR_FRONTIER_BATTLE_MODE) != FRONTIER_MODE_MULTIS ||
        flag(FLAG_CHOSEN_MULTI_BATTLE_NPC_PARTNER)) {
        goto(BattleFrontier_BattleTowerLobby_EventScript_CancelWinStreak)
    }

    tower_get(TOWER_DATA_WIN_STREAK)
    if (var(VAR_RESULT) != 0) {
        goto(BattleFrontier_BattleTowerLobby_EventScript_LostThanksForPlaying)
    } 

    goto(BattleFrontier_BattleTowerLobby_EventScript_CancelWinStreak)
}

script BattleFrontier_BattleTowerLobby_EventScript_CancelWinStreak {
    tower_set(TOWER_DATA_WIN_STREAK_ACTIVE, FALSE)
    goto(BattleFrontier_BattleTowerLobby_EventScript_LostThanksForPlaying)
}

script BattleFrontier_BattleTowerLobby_EventScript_LostThanksForPlaying {
    lock
    faceplayer
    message(BattleFrontier_BattleTowerLobby_Text_ThankYouForPlaying)
    waitmessage
    call(BattleFrontier_BattleTowerLobby_EventScript_AskSaveBattle)
    msgbox(BattleFrontier_BattleTowerLobby_Text_LookForwardToAnotherChallenge, MSGBOX_DEFAULT)
    closemessage
    setvar(VAR_FACILITY_CHALLENGE_STATUS, CHALLENGE_STATUS_END)
    release
    end
}

script BattleFrontier_BattleTowerLobby_EventScript_AskSaveBattle{
    message(BattleFrontier_BattleTowerLobby_Text_RecordWillBeSaved)
    waitmessage
    frontier_checkairshow
    special(LoadPlayerParty)
    special(HealPlayerParty)
    tower_save(0)
    playse(SE_SAVE)
    waitse

    frontier_get(FRONTIER_DATA_RECORD_DISABLED)
    if (var(VAR_RESULT) == TRUE){
        return
    }

    message(BattleFrontier_BattleTowerLobby_Text_RecordLastMatch)
    waitmessage
    multichoicedefault(20, 8, MULTI_YESNO, 1, FALSE)
    if (var(VAR_RESULT) == 0){
        call(BattleFrontier_EventScript_SaveBattle)
    }   

    return
}

script BattleFrontier_EventScript_SaveBattle{
    frontier_savebattle
    if (var(VAR_RESULT)){
        playse(SE_SAVE)
        msgbox(BattleFrontier_BattleTowerLobby_Text_BattleRecordedOnPass, MSGBOX_DEFAULT)
    }else{
        msgbox(BattleFrontier_BattleTowerBattleRoom_Text_RecordCouldntBeSaved, MSGBOX_DEFAULT)
    }

    return
}

script BattleFrontier_BattleTowerLobby_EventScript_ResumeChallenge{
    lock
    faceplayer

    if (var(VAR_FRONTIER_BATTLE_MODE) == FRONTIER_MODE_SINGLES){
        setvar(VAR_BRAVO_TRAINER_BATTLE_TOWER_ON, TRUE)
    }

    message(BattleFrontier_BattleTowerLobby_Text_WeveBeenWaitingForYou)
    waitmessage
    message(BattleFrontier_BattleTowerLobby_Text_ProgressWillBeSaved)
    waitmessage

    tower_save(CHALLENGE_STATUS_SAVING)
    playse(SE_SAVE)
    waitse
    frontier_set(FRONTIER_DATA_PAUSED, FALSE)

    goto(BattleFrontier_BattleTowerLobby_EventScript_EnterElevator)
    end
}

script BattleFrontier_BattleTowerLobby_EventScript_SinglesAttendant{
    lock
    faceplayer
    setvar(VAR_FRONTIER_FACILITY, FRONTIER_FACILITY_TOWER)
    special(SavePlayerParty)
    msgbox(BattleFrontier_BattleTowerLobby_Text_WelcomSingleBattle, MSGBOX_DEFAULT)
    goto(BattleFrontier_BattleTowerLobby_EventScript_AskEnterSinglesChallenge)
}

script BattleFrontier_BattleTowerLobby_EventScript_AskEnterSinglesChallenge{
    message(BattleFrontier_BattleTowerLobby_Text_TakeSinglesChallenge)
        waitmessage
        multichoice(17, 6, MULTI_CHALLENGEINFO, FALSE)
        switch(var(VAR_RESULT)){
            case 0: goto(BattleFrontier_BattleTowerLobby_EventScript_TryEnterSinglesChallenge)
            case 1: goto(BattleFrontier_BattleTowerLobby_EventScript_ExplainSinglesChallenge)
            case 2: goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
            case MULTI_B_PRESSED: goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
        }
}

script BattleFrontier_BattleTowerLobby_EventScript_TryEnterSinglesChallenge{
    setvar(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_SINGLES)
        message(BattleFrontier_BattleTowerLobby_Text_WhichLevelMode)
        waitmessage
        multichoice(17, 6, MULTI_LEVEL_MODE, FALSE)
        switch(var(VAR_RESULT)){
            case FRONTIER_LVL_TENT: goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
            case MULTI_B_PRESSED: goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
        }
    frontier_checkineligible
        goto_if_eq(VAR_0x8004, TRUE, BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMons)
        frontier_set(FRONTIER_DATA_LVL_MODE, VAR_RESULT)
        msgbox(BattleFrontier_BattleTowerLobby_Text_SelectThreeMons, MSGBOX_DEFAULT)
        fadescreen(FADE_TO_BLACK)
        call(BattleFrontier_EventScript_GetLvlMode)
        copyvar(VAR_0x8004, VAR_RESULT)
        setvar(VAR_0x8005, FRONTIER_PARTY_SIZE)
        special(ChoosePartyForBattleFrontier)
        waitstate
        goto_if_eq(VAR_RESULT, 0, BattleFrontier_BattleTowerLobby_EventScript_LoadPartyCancelChallenge)
        msgbox(BattleFrontier_BattleTowerLobby_Text_OkayToSaveBeforeEntering, MSGBOX_YESNO)
        switch(var(VAR_RESULT)){
            case NO: goto(BattleFrontier_BattleTowerLobby_EventScript_LoadPartyCancelChallenge)
            case YES: goto(BattleFrontier_BattleTowerLobby_EventScript_SaveBeforeSinglesChallenge)
            case MULTI_B_PRESSED: goto(BattleFrontier_BattleTowerLobby_EventScript_LoadPartyCancelChallenge)
        }
}

script BattleFrontier_BattleTowerLobby_EventScript_SaveBeforeSinglesChallenge{
    frontier_set(FRONTIER_DATA_SELECTED_MON_ORDER)
        setvar(VAR_FACILITY_CHALLENGE_STATUS, 0)
        tower_init
        tower_set(TOWER_DATA_WIN_STREAK_ACTIVE, TRUE)
        frontier_set(FRONTIER_DATA_PAUSED, FALSE)
        special(LoadPlayerParty)
        closemessage
        delay(2)
        call(Common_EventScript_SaveGame)
        setvar(VAR_FACILITY_CHALLENGE_STATUS, CHALLENGE_STATUS_END)
        goto_if_eq(VAR_RESULT, 0, BattleFrontier_BattleTowerLobby_EventScript_CancelChallengeSaveFailed)
        incrementgamestat(GAME_STAT_ENTERED_BATTLE_TOWER)
        setvar(VAR_BRAVO_TRAINER_BATTLE_TOWER_ON, TRUE)
        goto(BattleFrontier_BattleTowerLobby_EventScript_EnterElevator)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_ExplainSinglesChallenge{
    msgbox(BattleFrontier_BattleTowerLobby_Text_ExplainSinglesChallenge, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_AskEnterSinglesChallenge)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_DoublesAttendant{
    lock
        faceplayer
        setvar(VAR_FRONTIER_FACILITY, FRONTIER_FACILITY_TOWER)
        special(SavePlayerParty)
        msgbox(BattleFrontier_BattleTowerLobby_Text_WelcomeDoubleBattle, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_AskEnterDoublesChallenge)
}

script BattleFrontier_BattleTowerLobby_EventScript_AskEnterDoublesChallenge{
    message(BattleFrontier_BattleTowerLobby_Text_TakeDoublesChallenge)
        waitmessage
        multichoice(17, 6, MULTI_CHALLENGEINFO, FALSE)
        switch(var(VAR_RESULT)){
            case 0: goto(BattleFrontier_BattleTowerLobby_EventScript_TryEnterDoublesChallenge)
            case 1: goto(BattleFrontier_BattleTowerLobby_EventScript_ExplainDoublesChallenge)
            case 2: goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
            case MULTI_B_PRESSED: goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
        }
}

script BattleFrontier_BattleTowerLobby_EventScript_TryEnterDoublesChallenge{
    setvar(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_DOUBLES)
        message(BattleFrontier_BattleTowerLobby_Text_WhichLevelMode)
        waitmessage
        multichoice(17, 6, MULTI_LEVEL_MODE, FALSE)
        switch(var(VAR_RESULT)){
            case FRONTIER_LVL_TENT: goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
            case MULTI_B_PRESSED: goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
        }
    frontier_checkineligible
        goto_if_eq(VAR_0x8004, TRUE, BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMons)
        frontier_set(FRONTIER_DATA_LVL_MODE, VAR_RESULT)
        msgbox(BattleFrontier_BattleTowerLobby_Text_PleaseSelectFourMons, MSGBOX_DEFAULT)
        fadescreen(FADE_TO_BLACK)
        call(BattleFrontier_EventScript_GetLvlMode)
        copyvar(VAR_0x8004, VAR_RESULT)
        setvar(VAR_0x8005, FRONTIER_DOUBLES_PARTY_SIZE)
        special(ChoosePartyForBattleFrontier)
        waitstate
        goto_if_eq(VAR_RESULT, 0, BattleFrontier_BattleTowerLobby_EventScript_LoadPartyCancelChallenge)
        msgbox(BattleFrontier_BattleTowerLobby_Text_OkayToSaveBeforeEntering, MSGBOX_YESNO)
        switch(var(VAR_RESULT)){
            case NO: goto(BattleFrontier_BattleTowerLobby_EventScript_LoadPartyCancelChallenge)
            case YES: goto(BattleFrontier_BattleTowerLobby_EventScript_SaveBeforeDoublesChallenge)
            case MULTI_B_PRESSED: goto(BattleFrontier_BattleTowerLobby_EventScript_LoadPartyCancelChallenge)
        }
}

script BattleFrontier_BattleTowerLobby_EventScript_SaveBeforeDoublesChallenge{
    frontier_set(FRONTIER_DATA_SELECTED_MON_ORDER)
        setvar(VAR_FACILITY_CHALLENGE_STATUS, 0)
        tower_init
        tower_set(TOWER_DATA_WIN_STREAK_ACTIVE, TRUE)
        frontier_set(FRONTIER_DATA_PAUSED, FALSE)
        special(LoadPlayerParty)
        closemessage
        delay(2)
        call(Common_EventScript_SaveGame)
        setvar(VAR_FACILITY_CHALLENGE_STATUS, CHALLENGE_STATUS_END)
        goto_if_eq(VAR_RESULT, 0, BattleFrontier_BattleTowerLobby_EventScript_CancelChallengeSaveFailed)
        incrementgamestat(GAME_STAT_ENTERED_BATTLE_TOWER)
        setvar(VAR_BRAVO_TRAINER_BATTLE_TOWER_ON, FALSE)
        goto(BattleFrontier_BattleTowerLobby_EventScript_EnterElevator)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_ExplainDoublesChallenge{
    msgbox(BattleFrontier_BattleTowerLobby_Text_ExplainDoublesChallenge, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_AskEnterDoublesChallenge)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_MultisAttendant{
    lock
        faceplayer
        setvar(VAR_FRONTIER_FACILITY, FRONTIER_FACILITY_TOWER)
        clearflag(FLAG_CHOSEN_MULTI_BATTLE_NPC_PARTNER)
        special(SavePlayerParty)
        msgbox(BattleFrontier_BattleTowerLobby_Text_WelcomeMultiBattle, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_AskEnterMultisChallenge)
}

script BattleFrontier_BattleTowerLobby_EventScript_AskEnterMultisChallenge{
    message(BattleFrontier_BattleTowerLobby_Text_TakeMultisChallenge)
        waitmessage
        multichoice(17, 6, MULTI_CHALLENGEINFO, FALSE)
        switch (var(VAR_RESULT)){
            case 0: goto(BattleFrontier_BattleTowerLobby_EventScript_TryEnterMultisChallenge)
            case 1: goto(BattleFrontier_BattleTowerLobby_EventScript_ExplainMultisChallenge)
            case 2: goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
            case MULTI_B_PRESSED: goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
        }
}

script BattleFrontier_BattleTowerLobby_EventScript_TryEnterMultisChallenge{
    setvar(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_MULTIS)
        message(BattleFrontier_BattleTowerLobby_Text_WhichLevelMode)
        waitmessage
        multichoice(17, 6, MULTI_LEVEL_MODE, FALSE)
        switch (var(VAR_RESULT)){
            case FRONTIER_LVL_TENT: goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
            case MULTI_B_PRESSED: goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
        }
    frontier_checkineligible
        goto_if_eq(VAR_0x8004, TRUE, BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMons)
        frontier_set(FRONTIER_DATA_LVL_MODE, VAR_RESULT)
        msgbox(BattleFrontier_BattleTowerLobby_Text_PleaseSelectTwoMons, MSGBOX_DEFAULT)
        fadescreen(FADE_TO_BLACK)
        call(BattleFrontier_EventScript_GetLvlMode)
        copyvar(VAR_0x8004, VAR_RESULT)
        setvar(VAR_0x8005, FRONTIER_MULTI_PARTY_SIZE)
        special(ChoosePartyForBattleFrontier)
        waitstate
        goto_if_eq(VAR_RESULT, 0, BattleFrontier_BattleTowerLobby_EventScript_LoadPartyCancelChallenge)
        msgbox(BattleFrontier_BattleTowerLobby_Text_OkayToSaveBeforeEntering, MSGBOX_YESNO)
        switch (var(VAR_RESULT)){
            case NO: goto(BattleFrontier_BattleTowerLobby_EventScript_LoadPartyCancelChallenge)
            case YES: goto(BattleFrontier_BattleTowerLobby_EventScript_SaveBeforeMultisChallenge)
            case MULTI_B_PRESSED: goto(BattleFrontier_BattleTowerLobby_EventScript_LoadPartyCancelChallenge)
        }
}

script BattleFrontier_BattleTowerLobby_EventScript_SaveBeforeMultisChallenge{
    frontier_set(FRONTIER_DATA_SELECTED_MON_ORDER)
        setvar(VAR_FACILITY_CHALLENGE_STATUS, 0)
        tower_init
        tower_set(TOWER_DATA_WIN_STREAK_ACTIVE, TRUE)
        frontier_set(FRONTIER_DATA_PAUSED, FALSE)
        special(LoadPlayerParty)
        closemessage
        delay(2)
        call(Common_EventScript_SaveGame)
        setvar(VAR_FACILITY_CHALLENGE_STATUS, CHALLENGE_STATUS_END)
        goto_if_eq(VAR_RESULT, 0, BattleFrontier_BattleTowerLobby_EventScript_CancelChallengeSaveFailed)
        incrementgamestat(GAME_STAT_ENTERED_BATTLE_TOWER)
        setvar(VAR_BRAVO_TRAINER_BATTLE_TOWER_ON, FALSE)
        goto(BattleFrontier_BattleTowerLobby_EventScript_EnterElevator)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_ExplainMultisChallenge{
    msgbox(BattleFrontier_BattleTowerLobby_Text_ExplainMultisChallenge, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_AskEnterMultisChallenge)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_LinkMultisAttendant{
    lock
        faceplayer
        setvar(VAR_FRONTIER_FACILITY, FRONTIER_FACILITY_TOWER)
        special(SavePlayerParty)
        msgbox(BattleFrontier_BattleTowerLobby_Text_WelcomeLinkMultiBattle, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_AskEnterLinkMultisChallenge)
}

script BattleFrontier_BattleTowerLobby_EventScript_AskEnterLinkMultisChallenge{
    message(BattleFrontier_BattleTowerLobby_Text_TakeLinkMultisChallenge)
        waitmessage
        multichoice(17, 6, MULTI_CHALLENGEINFO, FALSE)
        switch(var(VAR_RESULT)){
            case 0:goto(BattleFrontier_BattleTowerLobby_EventScript_TryEnterLinkMultisChallenge)
            case 1:goto(BattleFrontier_BattleTowerLobby_EventScript_ExplainLinkMultisChallenge)
            case 2:goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
            case MULTI_B_PRESSED:goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
        }
}

script BattleFrontier_BattleTowerLobby_EventScript_TryEnterLinkMultisChallenge{
    setvar(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_LINK_MULTIS)
        message(BattleFrontier_BattleTowerLobby_Text_WhichLevelMode)
        waitmessage
        multichoice(17, 6, MULTI_LEVEL_MODE, FALSE)
        switch(var(VAR_RESULT)){
            case FRONTIER_LVL_TENT:goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
            case MULTI_B_PRESSED:goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
        }
    frontier_checkineligible
        goto_if_eq(VAR_0x8004, TRUE, BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMons)
        frontier_set(FRONTIER_DATA_LVL_MODE, VAR_RESULT)
        msgbox(BattleFrontier_BattleTowerLobby_Text_PleaseSelectTwoMons2, MSGBOX_DEFAULT)
        fadescreen(FADE_TO_BLACK)
        call(BattleFrontier_EventScript_GetLvlMode)
        copyvar(VAR_0x8004, VAR_RESULT)
        setvar(VAR_0x8005, FRONTIER_MULTI_PARTY_SIZE)
        special(ChoosePartyForBattleFrontier)
        waitstate
        goto_if_eq(VAR_RESULT, 0, BattleFrontier_BattleTowerLobby_EventScript_LoadPartyCancelChallenge)
        msgbox(BattleFrontier_BattleTowerLobby_Text_OkayToSaveBeforeEntering, MSGBOX_YESNO)
        switch(var(VAR_RESULT)){
            case NO:goto(BattleFrontier_BattleTowerLobby_EventScript_LoadPartyCancelChallenge)
            case YES:goto(BattleFrontier_BattleTowerLobby_EventScript_SaveBeforeLinkMultisChallenge)
            case MULTI_B_PRESSED:goto(BattleFrontier_BattleTowerLobby_EventScript_LoadPartyCancelChallenge)
        }
}

script BattleFrontier_BattleTowerLobby_EventScript_SaveBeforeLinkMultisChallenge{
    frontier_set(FRONTIER_DATA_SELECTED_MON_ORDER)
        setvar(VAR_FACILITY_CHALLENGE_STATUS, 0)
        tower_init
        tower_set(TOWER_DATA_WIN_STREAK_ACTIVE, TRUE)
        frontier_set(FRONTIER_DATA_PAUSED, FALSE)
        special(LoadPlayerParty)
        closemessage
        delay(2)
        //The command tower_save ultimately calls TrySavingData(SAVE_LINK), which writes data in SaveBlock1 and SaveBlock2 to the flash, but not data in PokemonStorage. 
        //The SaveGame script that follows asks the player to do a full save, which they can opt out of. 
        //As a result the player can save their party and quit without having saved the PC. 
        //This allows players to clone pokemon and their held items by withdrawing them (or erase them by despositing).
        // https://bulbapedia.bulbagarden.net/wiki/Cloning_glitches#Battle_Tower
        tower_save(0) //This line prevents the aforementioned cloning. If this line is absent, cloning will be possible.
        call(Common_EventScript_SaveGame)
        setvar(VAR_FACILITY_CHALLENGE_STATUS, CHALLENGE_STATUS_END)
        goto_if_eq(VAR_RESULT, 0, BattleFrontier_BattleTowerLobby_EventScript_CancelChallengeSaveFailed)
        incrementgamestat(GAME_STAT_ENTERED_BATTLE_TOWER)
        specialvar(VAR_RESULT, IsWirelessAdapterConnected)
        goto_if_eq(VAR_RESULT, TRUE, BattleFrontier_BattleTowerLobby_EventScript_TryWirelessLink)
        goto(BattleFrontier_BattleTowerLobby_EventScript_TryCableLink)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_FeelingsMan{
    lock
        faceplayer
        message(BattleFrontier_BattleTowerLobby_Text_DescribeFeelingsAboutBattleTower)
        waitmessage
        multichoice(16, 4, MULTI_BATTLE_TOWER_FEELINGS, FALSE)
        switch(var(VAR_RESULT)){
            case 0:goto(BattleFrontier_BattleTowerLobby_EventScript_FeelingsBattleNow)
            case 1:goto(BattleFrontier_BattleTowerLobby_EventScript_FeelingsIWon)
            case 2:goto(BattleFrontier_BattleTowerLobby_EventScript_FeelingsILost)
            case 3:goto(BattleFrontier_BattleTowerLobby_EventScript_FeelingsWontTell)
            case MULTI_B_PRESSED:goto(BattleFrontier_BattleTowerLobby_EventScript_FeelingsWontTell)
        }
    release
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_FeelingsBattleNow{
    msgbox(BattleFrontier_BattleTowerLobby_Text_FeelWhatWhenYouBegin, MSGBOX_DEFAULT)
        setvar(VAR_0x8004, EASY_CHAT_TYPE_BATTLE_START)
        call(Common_ShowEasyChatScreen)
        lock
        faceplayer
        goto(BattleFrontier_BattleTowerLobby_EventScript_CheckFeelings)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_FeelingsIWon{
    msgbox(BattleFrontier_BattleTowerLobby_Text_FeelWhatWhenYouveWon, MSGBOX_DEFAULT)
        setvar(VAR_0x8004, EASY_CHAT_TYPE_BATTLE_WON)
        call(Common_ShowEasyChatScreen)
        lock
        faceplayer
        goto(BattleFrontier_BattleTowerLobby_EventScript_CheckFeelings)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_FeelingsILost{
    msgbox(BattleFrontier_BattleTowerLobby_Text_FeelWhatWhenYouveLost, MSGBOX_DEFAULT)
        setvar(VAR_0x8004, EASY_CHAT_TYPE_BATTLE_LOST)
        call(Common_ShowEasyChatScreen)
        lock
        faceplayer
        goto(BattleFrontier_BattleTowerLobby_EventScript_CheckFeelings)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_FeelingsWontTell{
    msgbox(BattleFrontier_BattleTowerLobby_Text_DontThinkMuchAboutIt, MSGBOX_DEFAULT)
        release
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_CheckFeelings{
    goto_if_eq(VAR_RESULT, 0, BattleFrontier_BattleTowerLobby_EventScript_CanceledEasyChat)
        goto_if_eq(VAR_RESULT, 1, BattleFrontier_BattleTowerLobby_EventScript_SubmittedFeelings)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_CanceledEasyChat{
    msgbox(BattleFrontier_BattleTowerLobby_Text_ChangedYourMind, MSGBOX_DEFAULT)
        release
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_SubmittedFeelings{
    msgbox(BattleFrontier_BattleTowerLobby_Text_ThatsHowYouFeel, MSGBOX_DEFAULT)
        release
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_Woman{
    msgbox(BattleFrontier_BattleTowerLobby_Text_WinsInRowRecorded, MSGBOX_NPC)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_Boy{
    msgbox(BattleFrontier_BattleTowerLobby_Text_CanLeaveUntilLossOrSevenWins, MSGBOX_NPC)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_ShowSinglesResults{
    lockall
        frontier_results(FRONTIER_FACILITY_TOWER, FRONTIER_MODE_SINGLES)
        waitbuttonpress
        special(RemoveRecordsWindow)
        releaseall
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_ShowDoublesResults{
    lockall
        frontier_results(FRONTIER_FACILITY_TOWER, FRONTIER_MODE_DOUBLES)
        waitbuttonpress
        special(RemoveRecordsWindow)
        releaseall
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_ShowMultisResults{
    lockall
        frontier_results(FRONTIER_FACILITY_TOWER, FRONTIER_MODE_MULTIS)
        waitbuttonpress
        special(RemoveRecordsWindow)
        releaseall
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_ShowLinkMultisResults{
    lockall
        frontier_results(FRONTIER_FACILITY_TOWER, FRONTIER_MODE_LINK_MULTIS)
        waitbuttonpress
        special(RemoveRecordsWindow)
        releaseall
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMons{
    switch(var(VAR_RESULT)){
        case FRONTIER_LVL_50:goto(BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMonsLv50)
        case FRONTIER_LVL_OPEN:goto(BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMonsLvOpen)
    }
}

script BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMonsLv50{
    switch(var(VAR_FRONTIER_BATTLE_MODE)){
        case FRONTIER_MODE_SINGLES:goto(BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMonsLv50Singles)
        case FRONTIER_MODE_DOUBLES:goto(BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMonsLv50Doubles)
    }
    msgbox(BattleFrontier_BattleTowerLobby_Text_NotEnoughValidMonsLv50Multis, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_EndCancelChallenge)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMonsLv50Singles{
    msgbox(BattleFrontier_BattleTowerLobby_Text_NotEnoughValidMonsLv50Singles, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_EndCancelChallenge)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMonsLv50Doubles{
    msgbox(BattleFrontier_BattleTowerLobby_Text_NotEnoughValidMonsLv50Doubles, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_EndCancelChallenge)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMonsLvOpen{
    switch(var(VAR_FRONTIER_BATTLE_MODE)){
        case FRONTIER_MODE_SINGLES:goto(BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMonsLvOpenSingles)
        case FRONTIER_MODE_DOUBLES:goto(BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMonsLvOpenDoubles)
    }
    msgbox(BattleFrontier_BattleTowerLobby_Text_NotEnoughValidMonsLvOpenMultis, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_EndCancelChallenge)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMonsLvOpenSingles{
    msgbox(BattleFrontier_BattleTowerLobby_Text_NotEnoughValidMonsLvOpenSingles, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_EndCancelChallenge)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_NotEnoughValidMonsLvOpenDoubles{
    msgbox(BattleFrontier_BattleTowerLobby_Text_NotEnoughValidMonsLvOpenDoubles, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_EndCancelChallenge)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_CancelChallengeSaveFailed{
    frontier_set(FRONTIER_DATA_CHALLENGE_STATUS  @ No status provided, so it relies on VAR_0x8006 being 0 already)
        goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_LoadPartyCancelChallenge{
    special(LoadPlayerParty)
        goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
}

script BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge{
    special(CloseLink)
        msgbox(BattleFrontier_BattleTowerLobby_Text_LookForwardToAnotherChallenge, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_EndCancelChallenge)
}

script BattleFrontier_BattleTowerLobby_EventScript_EndCancelChallenge{
    release
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_EnterElevator{
    special(SavePlayerParty)
        setvar(VAR_0x8004, FRONTIER_UTIL_FUNC_SET_PARTY_ORDER)
        call(BattleFrontier_BattleTowerLobby_EventScript_GetPartySize)
        special(CallFrontierUtilFunc)
        setvar(VAR_RESULT, 0)
        goto(BattleFrontier_BattleTowerLobby_EventScript_WaitForLinkOpponentLoad)
}

script BattleFrontier_BattleTowerLobby_EventScript_WaitForLinkOpponentLoad{
    tower_loadlinkopponents
        delay(1)
        goto_if_ne(VAR_RESULT, 6, BattleFrontier_BattleTowerLobby_EventScript_WaitForLinkOpponentLoad)
        call(BattleFrontier_BattleTowerLobby_EventScript_ShowYouToBattleRoom)
        clearflag(FLAG_CANCEL_BATTLE_ROOM_CHALLENGE)
        warp(MAP_BATTLE_FRONTIER_BATTLE_TOWER_ELEVATOR, 1, 6)
        setvar(VAR_FACILITY_CHALLENGE_STATUS, 0)
        waitstate
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_ShowYouToBattleRoom{
    call(BattleFrontier_BattleTowerLobby_EventScript_BufferModeText)
        goto_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_LINK_MULTIS, BattleFrontier_BattleTowerLobby_EventScript_ShowYouToLinkMultiBattleRoom)
        msgbox(BattleFrontier_BattleTowerLobby_Text_ShowYouToBattleRoom, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_WalkToElevator)
}

script BattleFrontier_BattleTowerLobby_EventScript_ShowYouToLinkMultiBattleRoom{
    messageautoscroll(BattleFrontier_BattleTowerLobby_Text_ShowYouToBattleRoom)
        waitmessage
        delay(48)
        goto(BattleFrontier_BattleTowerLobby_EventScript_WalkToElevator)
}

script BattleFrontier_BattleTowerLobby_EventScript_WalkToElevator{
    closemessage
        call(BattleFrontier_BattleTowerLobby_EventScript_SetAttendantTalkedTo)
        call(BattleFrontier_BattleTowerLobby_EventScript_GetDoorXCoord)
        applymovement(VAR_LAST_TALKED, BattleFrontier_BattleTowerLobby_Movement_WalkToElevator)
        applymovement(OBJ_EVENT_ID_PLAYER, BattleFrontier_BattleTowerLobby_Movement_WalkToElevator)
        waitmovement(0)
        opendoor(VAR_0x8004, 1)
        waitdooranim
        applymovement(VAR_LAST_TALKED, BattleFrontier_BattleTowerLobby_Movement_AttendantEnterElevator)
        applymovement(OBJ_EVENT_ID_PLAYER, BattleFrontier_BattleTowerLobby_Movement_PlayerEnterElevator)
        waitmovement(0)
        closedoor(VAR_0x8004, 1)
        waitdooranim
        return
}

movement BattleFrontier_BattleTowerLobby_Movement_WalkToElevator{
    walk_up
        walk_up
        walk_up
        step_end
}

movement BattleFrontier_BattleTowerLobby_Movement_AttendantEnterElevator{
    walk_up
        set_invisible
        step_end
}

movement BattleFrontier_BattleTowerLobby_Movement_PlayerEnterElevator{
    walk_up
        walk_up
        set_invisible
        step_end
}

script BattleFrontier_BattleTowerLobby_EventScript_BufferModeText{
    call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_SINGLES, BattleFrontier_BattleTowerLobby_EventScript_BufferTextSingle)
        call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_DOUBLES, BattleFrontier_BattleTowerLobby_EventScript_BufferTextDouble)
        call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_MULTIS, BattleFrontier_BattleTowerLobby_EventScript_BufferTextMulti)
        call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_LINK_MULTIS, BattleFrontier_BattleTowerLobby_EventScript_BufferTextLinkMulti)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_BufferTextSingle{
    bufferstdstring(STR_VAR_1, STDSTRING_SINGLE)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_BufferTextDouble{
    bufferstdstring(STR_VAR_1, STDSTRING_DOUBLE)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_BufferTextMulti{
    bufferstdstring(STR_VAR_1, STDSTRING_MULTI)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_BufferTextLinkMulti{
    bufferstdstring(STR_VAR_1, STDSTRING_MULTI_LINK)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_SetAttendantTalkedTo{
    call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_SINGLES, BattleFrontier_BattleTowerLobby_EventScript_TalkedToSinglesAttendant)
        call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_DOUBLES, BattleFrontier_BattleTowerLobby_EventScript_TalkedToDoublesAttendant)
        call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_MULTIS, BattleFrontier_BattleTowerLobby_EventScript_TalkedToMultisAttendant)
        call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_LINK_MULTIS, BattleFrontier_BattleTowerLobby_EventScript_TalkedToLinkMultisAttendant)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_TalkedToSinglesAttendant{
    setvar(VAR_LAST_TALKED, ATTENDANT_SINGLES)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_TalkedToDoublesAttendant{
    setvar(VAR_LAST_TALKED, ATTENDANT_DOUBLES)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_TalkedToMultisAttendant{
    setvar(VAR_LAST_TALKED, ATTENDANT_MULTIS)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_TalkedToLinkMultisAttendant{
    setvar(VAR_LAST_TALKED, ATTENDANT_LINK_MULTIS)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_GetDoorXCoord{
    call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_SINGLES, BattleFrontier_BattleTowerLobby_EventScript_GetDoorXCoordSingles)
        call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_DOUBLES, BattleFrontier_BattleTowerLobby_EventScript_GetDoorXCoordDoubles)
        call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_MULTIS, BattleFrontier_BattleTowerLobby_EventScript_GetDoorXCoordMultis)
        call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_LINK_MULTIS, BattleFrontier_BattleTowerLobby_EventScript_GetDoorXCoordLinkMultis)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_GetDoorXCoordSingles{
    setvar(VAR_0x8004, 6)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_GetDoorXCoordDoubles{
    setvar(VAR_0x8004, 10)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_GetDoorXCoordMultis{
    setvar(VAR_0x8004, 14)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_GetDoorXCoordLinkMultis{
    setvar(VAR_0x8004, 18)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_GetPartySize{
    call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_SINGLES, BattleFrontier_BattleTowerLobby_EventScript_GetSinglesPartySize)
        call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_DOUBLES, BattleFrontier_BattleTowerLobby_EventScript_GetDoublesPartySize)
        call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_MULTIS, BattleFrontier_BattleTowerLobby_EventScript_GetMultisPartySize)
        call_if_eq(VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_LINK_MULTIS, BattleFrontier_BattleTowerLobby_EventScript_GetLinkMultisPartySize)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_GetSinglesPartySize{
    setvar(VAR_0x8005, FRONTIER_PARTY_SIZE)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_GetDoublesPartySize{
    setvar(VAR_0x8005, FRONTIER_DOUBLES_PARTY_SIZE)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_GetMultisPartySize{
    setvar(VAR_0x8005, FRONTIER_MULTI_PARTY_SIZE)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_GetLinkMultisPartySize{
    setvar(VAR_0x8005, FRONTIER_MULTI_PARTY_SIZE)
        return
}

script BattleFrontier_EventScript_GetLvlMode{
    frontier_get(FRONTIER_DATA_LVL_MODE)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_TryCableLink{
    setvar(VAR_0x8004, USING_BATTLE_TOWER)
        message(gText_PleaseWaitForLink)
        waitmessage
        setvar(VAR_0x8005, 0)
        special(TryBattleLinkup)
        waitstate
        goto_if_eq(VAR_RESULT, LINKUP_SUCCESS, BattleFrontier_BattleTowerLobby_EventScript_CableLinkSuccessful)
        goto_if_eq(VAR_RESULT, LINKUP_SOMEONE_NOT_READY, CableClub_EventScript_AbortLinkSomeoneNotReady)
        goto_if_eq(VAR_RESULT, LINKUP_DIFF_SELECTIONS, BattleFrontier_BattleTowerLobby_EventScript_AbortLinkDifferentSelections)
        goto_if_eq(VAR_RESULT, LINKUP_WRONG_NUM_PLAYERS, BattleFrontier_BattleTowerLobby_EventScript_AbortLinkIncorrectNumberOfPlayers)
        goto_if_eq(VAR_RESULT, LINKUP_FAILED, BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
        goto_if_eq(VAR_RESULT, LINKUP_CONNECTION_ERROR, CableClub_EventScript_AbortLinkConnectionError)
        goto_if_eq(VAR_RESULT, LINKUP_FAILED_BATTLE_TOWER, BattleFrontier_BattleTowerLobby_EventScript_AbortLink)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_AbortLinkDifferentSelections{
    special(CloseLink)
        goto_if_eq(VAR_0x8005, 3, BattleFrontier_BattleTowerLobby_EventScript_FriendDifferentSelection)
        msgbox(Text_PlayersMadeDifferentSelections, MSGBOX_DEFAULT)
        release
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_FriendDifferentSelection{
    msgbox(BattleFrontier_BattleTowerLobby_Text_FriendChoseDifferentLvlMode, MSGBOX_DEFAULT)
        msgbox(BattleFrontier_BattleTowerLobby_Text_ChooseDifferentMonsMatchLvlMode, MSGBOX_DEFAULT)
        release
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_AbortLinkIncorrectNumberOfPlayers{
    msgbox(BattleFrontier_BattleTowerLobby_Text_LinkMultiOnlyForTwoPlayers, MSGBOX_DEFAULT)
        special(CloseLink)
        msgbox(CableClub_Text_IncorrectNumberOfParticipants, MSGBOX_DEFAULT)
        release
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_AbortLink{
    special(CloseLink)
        call_if_eq(VAR_0x8005, 0, BattleFrontier_BattleTowerLobby_EventScript_FriendChoseDifferentLvlMode)
        call_if_eq(VAR_0x8005, 1, BattleFrontier_BattleTowerLobby_EventScript_FriendAlsoSelectedMon)
        call_if_eq(VAR_0x8005, 2, BattleFrontier_BattleTowerLobby_EventScript_FriendAlsoSelectedMons)
        msgbox(BattleFrontier_BattleTowerLobby_Text_ChooseDifferentMonsMatchLvlMode, MSGBOX_DEFAULT)
        release
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_FriendChoseDifferentLvlMode{
    msgbox(BattleFrontier_BattleTowerLobby_Text_FriendChoseDifferentLvlMode, MSGBOX_DEFAULT)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_FriendAlsoSelectedMon{
    msgbox(BattleFrontier_BattleTowerLobby_Text_FriendAlsoSelectedMon, MSGBOX_DEFAULT)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_FriendAlsoSelectedMons{
    msgbox(BattleFrontier_BattleTowerLobby_Text_FriendAlsoSelectedMons, MSGBOX_DEFAULT)
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_CableLinkSuccessful{
    incrementgamestat(GAME_STAT_ENTERED_BATTLE_TOWER)
        setvar(VAR_BRAVO_TRAINER_BATTLE_TOWER_ON, FALSE)
        message(BattleFrontier_BattleTowerLobby_Text_SaveGameBeforeShowingIn)
        waitmessage
        tower_save(CHALLENGE_STATUS_SAVING)
        special(SaveForBattleTowerLink)
        waitstate
        playse(SE_SAVE)
        waitse
        special(TrySetBattleTowerLinkType)
        goto(BattleFrontier_BattleTowerLobby_EventScript_EnterElevator)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_ExplainLinkMultisChallenge{
    msgbox(BattleFrontier_BattleTowerLobby_Text_ExplainLinkMultisChallenge, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_AskEnterLinkMultisChallenge)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_TryWirelessLink{
    setvar(VAR_0x8004, LINK_GROUP_BATTLE_TOWER)
        goto(BattleFrontier_BattleTowerLobby_EventScript_ChooseLeader)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_ChooseLeader{
    message(CableClub_Text_ChooseGroupLeaderOfTwo)
        waitmessage
        multichoice(16, 6, MULTI_LINK_LEADER, FALSE)
        switch(var(VAR_RESULT)){
            case 0:goto(BattleFrontier_BattleTowerLobby_EventScript_TryJoinGroup)
            case 1:goto(BattleFrontier_BattleTowerLobby_EventScript_TryBecomeLeader)
            case 2:goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
            case MULTI_B_PRESSED:goto(BattleFrontier_BattleTowerLobby_EventScript_CancelChallenge)
        }
    end
}

script BattleFrontier_BattleTowerLobby_EventScript_TryBecomeLeader{
    call(CableClub_EventScript_TryBecomeLinkLeader)
        goto_if_eq(VAR_RESULT, LINKUP_SUCCESS, BattleFrontier_BattleTowerLobby_EventScript_WirelessLinkSuccessful)
        goto_if_eq(VAR_RESULT, LINKUP_FAILED, BattleFrontier_BattleTowerLobby_EventScript_ChooseLeader)
        goto_if_eq(VAR_RESULT, LINKUP_RETRY_ROLE_ASSIGN, BattleFrontier_BattleTowerLobby_EventScript_TryBecomeLeader)
        goto_if_eq(VAR_RESULT, LINKUP_FAILED_BATTLE_TOWER, BattleFrontier_BattleTowerLobby_EventScript_AbortLink)
        release
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_TryJoinGroup{
    call(CableClub_EventScript_TryJoinLinkGroup)
        goto_if_eq(VAR_RESULT, LINKUP_SUCCESS, BattleFrontier_BattleTowerLobby_EventScript_WirelessLinkSuccessful)
        goto_if_eq(VAR_RESULT, LINKUP_FAILED, BattleFrontier_BattleTowerLobby_EventScript_ChooseLeader)
        goto_if_eq(VAR_RESULT, LINKUP_RETRY_ROLE_ASSIGN, BattleFrontier_BattleTowerLobby_EventScript_TryJoinGroup)
        goto_if_eq(VAR_RESULT, LINKUP_FAILED_BATTLE_TOWER, BattleFrontier_BattleTowerLobby_EventScript_AbortLink)
        release
        return
}

script BattleFrontier_BattleTowerLobby_EventScript_WirelessLinkSuccessful{
    incrementgamestat(GAME_STAT_ENTERED_BATTLE_TOWER)
        setvar(VAR_BRAVO_TRAINER_BATTLE_TOWER_ON, FALSE)
        message(BattleFrontier_BattleTowerLobby_Text_SaveGameBeforeShowingIn)
        waitmessage
        tower_save(CHALLENGE_STATUS_SAVING)
        special(SaveForBattleTowerLink)
        waitstate
        playse(SE_SAVE)
        waitse
        goto(BattleFrontier_BattleTowerLobby_EventScript_EnterElevator)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_RulesBoard{
    lockall
        msgbox(BattleFrontier_BattleTowerLobby_Text_RulesAreListed, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_ReadRulesBoard)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_ReadRulesBoard{
    message(BattleFrontier_BattleTowerLobby_Text_ReadWhichHeading)
        waitmessage
        multichoice(17, 2, MULTI_BATTLE_TOWER_RULES, FALSE)
        switch(var(VAR_RESULT)){
            case 0:goto(BattleFrontier_BattleTowerLobby_EventScript_RulesTower)
            case 1:goto(BattleFrontier_BattleTowerLobby_EventScript_RulesMons)
            case 2:goto(BattleFrontier_BattleTowerLobby_EventScript_RulesSalon)
            case 3:goto(BattleFrontier_BattleTowerLobby_EventScript_RulesMultiLink)
            case 4:goto(BattleFrontier_BattleTowerLobby_EventScript_ExitRules)
            case MULTI_B_PRESSED:goto(BattleFrontier_BattleTowerLobby_EventScript_ExitRules)
        }
    end
}

script BattleFrontier_BattleTowerLobby_EventScript_RulesTower{
    msgbox(BattleFrontier_BattleTowerLobby_Text_ExplainTowerRules, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_ReadRulesBoard)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_RulesMons{
    msgbox(BattleFrontier_BattleTowerLobby_Text_ExplainMonRules, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_ReadRulesBoard)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_RulesSalon{
    msgbox(BattleFrontier_BattleTowerLobby_Text_ExplainSalonRules, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_ReadRulesBoard)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_RulesMultiLink{
    msgbox(BattleFrontier_BattleTowerLobby_Text_ExplainMultiLinkRules, MSGBOX_DEFAULT)
        goto(BattleFrontier_BattleTowerLobby_EventScript_ReadRulesBoard)
        end
}

script BattleFrontier_BattleTowerLobby_EventScript_ExitRules{
    releaseall
        end
}

text BattleFrontier_BattleTowerLobby_Text_DirectYouToBattleRoom{
    format("I'll direct you to your BATTLE ROOM now.")
}

text BattleFrontier_BattleTowerLobby_Text_DidntSaveBeforeQuitting{
    format("Excuse me!\pYou didn't save before you quit your challenge last time.\pBecause of that, your challenge so far has been disqualified. Sorry!")
}

text BattleFrontier_BattleTowerLobby_Text_CongratsBeatenSeven{
    format("Congratulations! You've beaten all seven TRAINERS!\p")
}

text BattleFrontier_BattleTowerLobby_Text_ReceivedPrize{
    format("{PLAYER} received the prize {STR_VAR_1}.")
}

text BattleFrontier_BattleTowerLobby_Text_ThankYouForPlaying{
    format("Thank you for playing!\p")
}

text BattleFrontier_BattleTowerLobby_Text_RecordWillBeSaved{
    format("Your record will be saved. Please wait.")
}

text BattleFrontier_BattleTowerLobby_Text_WeveBeenWaitingForYou{
    format("We've been waiting for you!\p")
}

text BattleFrontier_BattleTowerLobby_Text_ProgressWillBeSaved{
    format("Before entering a BATTLE ROOM, your progress will be saved. Please wait.")
}

text BattleFrontier_BattleTowerLobby_Text_AboutToFace50thTrainer{
    format("You're finally about to face the 50th TRAINER.\pFrom here on, every time you beat seven TRAINERS in a row, your POKéMON will receive a commemorative RIBBON.\pGood luck!")
}

text BattleFrontier_BattleTowerLobby_Text_HereAreSomeRibbons{
    format("Here are some RIBBONS for beating seven tough TRAINERS in a row.\p{PLAYER} received some RIBBONS!")
}

text BattleFrontier_BattleTowerLobby_Text_PutRibbonOnMons{
    format("{PLAYER} put the RIBBONS on the challenger POKéMON.")
}

text BattleFrontier_BattleTowerLobby_Text_DescribeFeelingsAboutBattleTower{
    format("Excuse me, do you have a moment?\pCan you describe your feelings when you're about to begin a BATTLE TOWER match, or when you've either won or lost a match?")
}

text BattleFrontier_BattleTowerLobby_Text_FeelWhatWhenYouBegin{
    format("Okay, what are your feelings when you're about to begin a match?")
}

text BattleFrontier_BattleTowerLobby_Text_FeelWhatWhenYouveWon{
    format("What do you feel when you've won a match?")
}

text BattleFrontier_BattleTowerLobby_Text_FeelWhatWhenYouveLost{
    format("Can I hear about your feelings when you have lost a match?")
}

text BattleFrontier_BattleTowerLobby_Text_DontThinkMuchAboutIt{
    format("Oh, so you don't think much about it? You're one cool customer.")
}

text BattleFrontier_BattleTowerLobby_Text_ChangedYourMind{
    format("Hunh? You changed your mind? I guess you're fickle.")
}

text BattleFrontier_BattleTowerLobby_Text_ThatsHowYouFeel{
    format("Okay, so that's how you feel? That's quite original.\pThanks!")
}

text BattleFrontier_BattleTowerLobby_Text_WinsInRowRecorded{
    format("The number of matches you win in a row is recorded.\pI'd better not get beaten in an embarrassing way!")
}

text BattleFrontier_BattleTowerLobby_Text_CanLeaveUntilLossOrSevenWins{
    format("Once you've entered the BATTLE TOWER, you can't leave until you either lose or you beat seven TRAINERS in a row.\pYou'd best be certain that you're up to the challenge.")
}

text BattleFrontier_BattleTowerLobby_Text_LookForwardToAnotherChallenge{
    format("We look forward to seeing you on another challenge!")
}

text BattleFrontier_BattleTowerLobby_Text_WhichLevelMode{
    format("The BATTLE ROOM offers two levels of challenge, Level 50 and Open Level. Which is your choice?")
}

text BattleFrontier_BattleTowerLobby_Text_OkayToSaveBeforeEntering{
    format("Before entering a BATTLE ROOM, your progress must be saved. Is that okay?")
}

text BattleFrontier_BattleTowerLobby_Text_ShowYouToBattleRoom{
    format("I will now show you to the {STR_VAR_1} BATTLE ROOM.")
}

text BattleFrontier_BattleTowerLobby_Text_RecordLastMatch{
    format("Shall I record your last BATTLE TOWER match on your FRONTIER PASS?")
}

text BattleFrontier_BattleTowerLobby_Text_NotEnoughValidMonsLv50Singles{
    format("Excuse me!\pYou don't have three eligible POKéMON.\pYou must have three different POKéMON of Level 50 or less to enter.\pThey also must be holding different kinds of items.\pEGGS{STR_VAR_1} ineligible.\pPlease come see me when you are ready.")
}

text BattleFrontier_BattleTowerLobby_Text_NotEnoughValidMonsLvOpenSingles{
    format("Excuse me!\pYou don't have three eligible POKéMON.\pYou must have three different POKéMON to enter.\pThey also must be holding different kinds of items.\pEGGS{STR_VAR_1} ineligible.\pPlease come see me when you are ready.")
}

text BattleFrontier_BattleTowerLobby_Text_NotEnoughValidMonsLv50Doubles{
    format("Excuse me!\pYou don't have four eligible POKéMON.\pYou must have four different POKéMON of Level 50 or less to enter.\pThey also must be holding different kinds of items.\pEGGS{STR_VAR_1} ineligible.\pPlease come see me when you are ready.")
}

text BattleFrontier_BattleTowerLobby_Text_NotEnoughValidMonsLvOpenDoubles{
    format("Excuse me!\pYou don't have four eligible POKéMON.\pYou must have four different POKéMON to enter.\pThey also must be holding different kinds of items.\pEGGS{STR_VAR_1} ineligible.\pPlease come see me when you are ready.")
}

text BattleFrontier_BattleTowerLobby_Text_NotEnoughValidMonsLv50Multis{
    format("Excuse me!\pYou don't have two eligible POKéMON.\pYou must have two different POKéMON of Level 50 or less to enter.\pThey also must be holding different kinds of items.\pEGGS{STR_VAR_1} ineligible.\pPlease come see me when you are ready.")
}

text BattleFrontier_BattleTowerLobby_Text_NotEnoughValidMonsLvOpenMultis{
    format("Excuse me!\pYou don't have two eligible POKéMON.\pYou must have two different POKéMON to enter.\pThey also must be holding different kinds of items.\pEGGS{STR_VAR_1} ineligible.\pPlease come see me when you are ready.")
}

text BattleFrontier_BattleTowerLobby_Text_WelcomSingleBattle{
    format("Where the talents of TRAINERS are put to the test!\pWelcome to the BATTLE TOWER!\pI am your guide to the SINGLE BATTLE ROOMS.")
}

text BattleFrontier_BattleTowerLobby_Text_TakeSinglesChallenge{
    format("Would you like to take the SINGLE BATTLE ROOM challenge?")
}

text BattleFrontier_BattleTowerLobby_Text_ExplainSinglesChallenge{
    format("The BATTLE TOWER's SINGLE BATTLE ROOMS are facilities for conducting SINGLE BATTLES with three POKéMON.\pThere are many SINGLE BATTLE ROOMS in the BATTLE TOWER for team battles.\pIn each of the SINGLE BATTLE ROOMS, seven TRAINERS await your challenge.\pIf you manage to defeat all seven, you will earn Battle Points.\pIf you want to interrupt your challenge, please save the game.\pIf you don't save before interrupting, you will be disqualified.")
}

text BattleFrontier_BattleTowerLobby_Text_SelectThreeMons{
    format("Now please select the three POKéMON that are to be entered.")
}

text BattleFrontier_BattleTowerLobby_Text_WelcomeDoubleBattle{
    format("Where the talents of TRAINERS are put to the test!\pWelcome to the BATTLE TOWER!\pI am your guide to the DOUBLE BATTLE ROOMS.")
}

text BattleFrontier_BattleTowerLobby_Text_TakeDoublesChallenge{
    format("Would you like to take the DOUBLE BATTLE ROOM challenge?")
}

text BattleFrontier_BattleTowerLobby_Text_ExplainDoublesChallenge{
    format("The BATTLE TOWER's DOUBLE BATTLE ROOMS are facilities for conducting DOUBLE BATTLES with four POKéMON.\pThere are many DOUBLE BATTLE ROOMS in the BATTLE TOWER for team battles.\pIn each of the DOUBLE BATTLE ROOMS, seven TRAINERS await your challenge.\pIf you manage to defeat all seven, you will earn Battle Points.\pIf you want to interrupt your challenge, please save the game.\pIf you don't save before interrupting, you will be disqualified.")
}

text BattleFrontier_BattleTowerLobby_Text_PleaseSelectFourMons{
    format("Now please select the four POKéMON that are to be entered.")
}

text BattleFrontier_BattleTowerLobby_Text_WelcomeMultiBattle{
    format("Where the talents of TRAINERS are put to the test!\pWelcome to the BATTLE TOWER!\pI am your guide to the MULTI BATTLE ROOMS.")
}

text BattleFrontier_BattleTowerLobby_Text_TakeMultisChallenge{
    format("Would you like to take the MULTI BATTLE ROOM challenge?")
}

text BattleFrontier_BattleTowerLobby_Text_ExplainMultisChallenge{
    format("The BATTLE TOWER's MULTI BATTLE ROOMS are facilities for conducting MULTI BATTLES.\pFor MULTI BATTLES, you must partner with a TRAINER in the TOWER and enter with two POKéMON each.\pInside the TOWER is a room named the BATTLE SALON where you may meet other TRAINERS.\pThere, you must find a TRAINER to act as your partner in MULTI BATTLES.\pOnce you have partnered up, you will be shown to a MULTI BATTLE ROOM.\pIn the MULTI BATTLE ROOM, seven tag teams await your challenge.\pIf you manage to defeat all seven teams, you will earn Battle Points.\pIf you want to interrupt your challenge, please save the game.\pIf you don't save before interrupting, you will be disqualified.")
}

text BattleFrontier_BattleTowerLobby_Text_PleaseSelectTwoMons{
    format("Now please select the two POKéMON that are to be entered.")
}

text BattleFrontier_BattleTowerLobby_Text_WelcomeLinkMultiBattle{
    format("Where the talents of TRAINERS are put to the test!\pWelcome to the BATTLE TOWER!\pI am your guide to the LINK MULTI BATTLE ROOMS.")
}

text BattleFrontier_BattleTowerLobby_Text_TakeLinkMultisChallenge{
    format("Would you like to take the LINK MULTI BATTLE ROOM challenge?")
}

text BattleFrontier_BattleTowerLobby_Text_ExplainLinkMultisChallenge{
    format("The BATTLE TOWER's MULTI BATTLE ROOMS are facilities for conducting MULTI BATTLES with a friend.\pYou must link with your friend using Wireless Adapters or a Game Boy Advance Game Link cable.\pYou must partner with your friend and enter two different kinds of POKéMON.\pThere are many MULTI BATTLE ROOMS in the BATTLE TOWER for team battles.\pIn a MULTI BATTLE ROOM, seven tag teams await you and your friend to make a tag-team challenge.\pIf you manage to defeat all seven teams, you will earn Battle Points.\pPlease beware that unlike other ROOMS, you may not interrupt your challenge.\pOnce you start, you must battle seven MULTI BATTLES in a row nonstop.")
}

text BattleFrontier_BattleTowerLobby_Text_PleaseSelectTwoMons2{
    format("Now please select the two POKéMON that are to be entered.")
}

text BattleFrontier_BattleTowerLobby_Text_LinkMultiOnlyForTwoPlayers{
    format("The LINK MULTI BATTLE ROOM challenge is only for two linked players.")
}

text BattleFrontier_BattleTowerLobby_Text_FriendAlsoSelectedMon{
    format("Your friend has also selected the POKéMON {STR_VAR_1}.")
}

text BattleFrontier_BattleTowerLobby_Text_FriendAlsoSelectedMons{
    format("Your friend has also selected the POKéMON {STR_VAR_1} and {STR_VAR_2}.")
}

text BattleFrontier_BattleTowerLobby_Text_FriendChoseDifferentLvlMode{
    format("Your friend has chosen a different battle level.")
}

text BattleFrontier_BattleTowerLobby_Text_ChooseDifferentMonsMatchLvlMode{
    format("Please choose two POKéMON different from your friend's, match the level you wish to enter, and register again.")
}

text BattleFrontier_BattleTowerLobby_Text_SaveGameBeforeShowingIn{
    format("I will save the game before showing you in. Please wait.")
}

text BattleFrontier_BattleTowerLobby_Text_CongratsDefeatedMaiden{
    format("Congratulations! You have defeated the SALON MAIDEN and swept seven TRAINERS!")
}

text BattleFrontier_BattleTowerLobby_Text_AwardYouTheseBattlePoints{
    format("In recognition of your infinite talent, we award you these Battle Point(s).")
}

text BattleFrontier_Text_ObtainedXBattlePoints{
    format("{PLAYER} obtained {STR_VAR_1} Battle Point(s).")
}

text BattleFrontier_BattleTowerLobby_Text_RulesAreListed{
    format("The BATTLE TOWER rules are listed.")
}

text BattleFrontier_BattleTowerLobby_Text_ReadWhichHeading{
    format("Which heading do you want to read?")
}

text BattleFrontier_BattleTowerLobby_Text_ExplainTowerRules{
    format("The BATTLE TOWER is a facility where four types of battles are waged-- SINGLE BATTLE, DOUBLE BATTLE, MULTI BATTLE, and LINK MULTI BATTLE.\pFor each of these types, there are separate BATTLE ROOMS.\pPlease speak with a guide offering the type of battle you wish to enter.")
}

text BattleFrontier_BattleTowerLobby_Text_ExplainMonRules{
    format("Depending on the BATTLE ROOM you are entering, you will be required to take a certain number of POKéMON.\pThe SINGLE BATTLE mode requires three POKéMON.\pThe DOUBLE BATTLE mode requires four, and the MULTI modes both require two.")
}

text BattleFrontier_BattleTowerLobby_Text_ExplainSalonRules{
    format("The BATTLE SALON is where you must find a partner to form a tag team for the MULTI BATTLE ROOM challenge.\pChoose the best partner for you by examining other TRAINERS' POKéMON and their moves.\pYou may choose a new tag partner after winning seven straight matches.")
}

text BattleFrontier_BattleTowerLobby_Text_ExplainMultiLinkRules{
    format("The LINK MULTI BATTLE Mode is for two friends to mount a challenge together.\pYou and your friend must be linked with Wireless Adapters or a GBA Game Link cable.\pYou must choose two POKéMON at the registration counter.\pThese POKéMON must be different from those of your friend.\pYou may not interrupt this challenge in the middle, unlike other modes.")
}

//I was unable to test any of these scenarios, but I am fairly confident they are working. If they are not, please contact pkmnsnfrn or preferably, open a PR.

// BattleFrontier_BattleTowerLobby_EventScript_WaitForLinkOpponentLoad
// BattleFrontier_BattleTowerLobby_EventScript_TryCableLink
// BattleFrontier_BattleTowerLobby_EventScript_AbortLinkDifferentSelections
// BattleFrontier_BattleTowerLobby_EventScript_FriendDifferentSelection
// BattleFrontier_BattleTowerLobby_EventScript_AbortLinkIncorrectNumberOfPlayers
// BattleFrontier_BattleTowerLobby_EventScript_AbortLink
// BattleFrontier_BattleTowerLobby_EventScript_FriendChoseDifferentLvlMode
// BattleFrontier_BattleTowerLobby_EventScript_FriendAlsoSelectedMon
// BattleFrontier_BattleTowerLobby_EventScript_FriendAlsoSelectedMons
// BattleFrontier_BattleTowerLobby_EventScript_CableLinkSuccessful
// BattleFrontier_BattleTowerLobby_EventScript_TryWirelessLink
// BattleFrontier_BattleTowerLobby_EventScript_ChooseLeader
// BattleFrontier_BattleTowerLobby_EventScript_TryBecomeLeader
// BattleFrontier_BattleTowerLobby_EventScript_TryJoinGroup
// BattleFrontier_BattleTowerLobby_EventScript_WirelessLinkSuccessful

script BattleFrontier_EventScript_GetCantRecordBattle{
	frontier_get(FRONTIER_DATA_RECORD_DISABLED)
	return
}
